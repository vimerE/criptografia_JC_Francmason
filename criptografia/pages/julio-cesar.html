<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <style type="text/css" rel="styleshet">
        p{
            text-align: justify;
        }
    </style>
    <script type="text/javascript">
        window.addEventListener("load", inicio, true);

        function inicio(){
            document.getElementById("mensajeCifrar").addEventListener("keyup", function(){
                this.value = this.value.toUpperCase();
            }, true);

            document.getElementById("cifrar").addEventListener("click", function(){
                let mensajeCifrar = document.getElementById("mensajeCifrar").value;
                let desplazamiento = document.getElementById("desplazamiento").value; 
                document.getElementById("mensajeCifrado").innerHTML = cifrar(mensajeCifrar, desplazamiento);
            }, true);

            document.getElementById("mensajeDescifrar").addEventListener("keyup", function(){
                this.value = this.value.toUpperCase();
            }, true);

            document.getElementById("descifrar").addEventListener("click", function(){
                let mensajeDescifrar = document.getElementById("mensajeDescifrar").value;
                let desplazamientoDescifrar = document.getElementById("desplazamientoDescifrar").value; 
                document.getElementById("mensajeDescifrado").innerHTML = descifrar(mensajeDescifrar, desplazamientoDescifrar);
            }, true);
        }

        function cifrar(texto, desplazamiento){
            let resultado = "";
            const letras = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";

            desplazamiento = (desplazamiento % 26 + 26) % 26;

            if(texto){
                for(let i=0; i<texto.length; i++){
                    if(letras.indexOf(texto[i]) != -1){
                        let posicion = ((letras.indexOf(texto[i]) + desplazamiento)%26);
                        resultado += letras[posicion];
                    }else
                        resultado += texto[i];
                }
            }
            return resultado;
        }

        /*function cifrar2(texto, desplazamiento){
            if(!texto){
                return "";
            }
            const letras = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
            desplazamiento = (desplazamiento % 26 + 26) % 26;
            //return texto.replace(/[A-Z]/ig, c=> letras[(letras.indexOf(c) + desplazamiento)%26]);
            return texto.replace(/[A-Z]/ig, c=> letras[(letras.indexOf(c)+desplazamiento)%26]);
        }*/

        function descifrar(texto, desplazamientoDesc){
            let resultado = "";
            const letras = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";

            desplazamientoDesc = (desplazamientoDesc % 26 - 26) % 26;

            if(texto){
                for(let i=0; i<texto.length; i++){
                    if(letras.indexOf(texto[i]) != -1){
                        let posicion = ((letras.indexOf(texto[i]) - desplazamientoDesc)%26);
                        resultado += letras[posicion];
                    }else
                        resultado += texto[i];
                }
            }
            return resultado;
        }

    </script>
    <title>Cifrado Julio César</title>
  </head>
  <body>


    <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #e3f2fd;">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="../informacion/logo.png" alt="" width="200" height="50" class="d-inline-block align-text-top">
              </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarScroll">
            <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="../index.html"><b>Inicio</b></a>
              </li>
            </ul>
          </div>
        </div>
      </nav>



    <div class="container">
        <h1 class="text-center mt-4">Cifrado Julio César 26 caracteres</h1>
        <hr>
        <div class="row mt-4">
            <div class="col-md-4">
                <h3 class="text-center">Ejemplo</h3>
                <p class="lh-1"> El <b>cifrado César</b>, también conocido como <b>cifrado por desplazamiento, código de César o desplazamiento de César</b>, es una de las técnicas de cifrado más usadas. Es un tipo de cifrado por sustitución en el que una letra en el texto original es reemplazada por otra letra que se encuentra un número fijo de posiciones más adelante en el alfabeto. 
                </p>
                <center><img src="../informacion/cifrado-cesar.png" width="100%"></center>
            </div>
            <div class="col-md-4">
                <h3 class="text-center">Cifrar</h3>
                <div class="bg-warning p-4 rounded">
                    <input type="text" class="form-control" id="mensajeCifrar" placeholder="Ingrese el texto a cifrar">
                    <br>
                    <input type="number" class="form-control" id="desplazamiento" placeholder="Ingrese el número a desplazar">
                    <br>
                    <div class="d-grid gap-2">
                    <button type="button" class="btn btn-success" id="cifrar">Cifrar Texto</button>
                    </div>
                    <br>
                    <p class="fw-bold" id="mensajeCifrado"></p>
                    
                </div>
            </div>
            <div class="col-md-4">
                <h3 class="text-center">Descifrar</h3>
                <div class="bg-warning p-4 rounded">
                    <input type="text" class="form-control" id="mensajeDescifrar" placeholder="Ingrese el texto a descifrar">
                    <br>
                    <input type="number" class="form-control" id="desplazamientoDescifrar" placeholder="Ingrese el número a desplazar">
                    <br>
                    <div class="d-grid gap-2">
                    <button type="button" class="btn btn-danger" id="descifrar">Descifrar Texto</button>
                    </div>
                    <br>
                    <p class="fw-bold" id="mensajeDescifrado"></p>
                </div>
            </div>
        </div>
    </div>



    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->
  </body>
</html>